{{ $path := split (.Get 0) "."  }}
{{ $data := getJSON "layouts/shortcodes/data/data.json" }}

{{ $currentData := $data}}
{{ range $path }}
{{ if (eq $currentData.kind "class") }}
{{ $currentData = $currentData.functions }}
{{ end }}
{{$currentData = index $currentData .}}
{{ end }}

{{ $objData := $currentData }}

<div class="python-ref">
  {{ partial "python-object.html" (dict "object" $objData "path" $path) }}
  <h2>Methods</h2>
  <ul>

    {{ range $name, $func := $objData.functions }}
      {{ if not (hasPrefix $name "_") }}
        <li>{{ partial "python-api-link-partial.html" $name }}</li>
      {{ end }}
    {{ end }}
  </ul>
</div>
